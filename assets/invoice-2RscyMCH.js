import{g as te,r as H,K as re,I as ne,j as h,C as se}from"./index-Bilkcy3_.js";import{C as ae}from"./CustomTable-PaS8ooqf.js";var B={exports:{}},ie=B.exports,X;function ue(){return X||(X=1,function(V,ee){(function(x,N){V.exports=N()})(ie,function(){var x=1e3,N=6e4,_=36e5,E="millisecond",g="second",S="minute",l="hour",D="day",j="week",$="month",k="quarter",M="year",b="date",P="Invalid Date",z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var r=["th","st","nd","rd"],e=s%100;return"["+s+(r[(e-20)%10]||r[e]||r[0])+"]"}},A=function(s,r,e){var n=String(s);return!n||n.length>=r?s:""+Array(r+1-n.length).join(e)+s},J={s:A,z:function(s){var r=-s.utcOffset(),e=Math.abs(r),n=Math.floor(e/60),t=e%60;return(r<=0?"+":"-")+A(n,2,"0")+":"+A(t,2,"0")},m:function s(r,e){if(r.date()<e.date())return-s(e,r);var n=12*(e.year()-r.year())+(e.month()-r.month()),t=r.clone().add(n,$),a=e-t<0,i=r.clone().add(n+(a?-1:1),$);return+(-(n+(e-t)/(a?t-i:i-t))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:$,y:M,w:j,d:D,D:b,h:l,m:S,s:g,ms:E,Q:k}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},O="en",C={};C[O]=L;var Q="$isDayjsObject",Z=function(s){return s instanceof R||!(!s||!s[Q])},U=function s(r,e,n){var t;if(!r)return O;if(typeof r=="string"){var a=r.toLowerCase();C[a]&&(t=a),e&&(C[a]=e,t=a);var i=r.split("-");if(!t&&i.length>1)return s(i[0])}else{var o=r.name;C[o]=r,t=o}return!n&&t&&(O=t),t||!n&&O},f=function(s,r){if(Z(s))return s.clone();var e=typeof r=="object"?r:{};return e.date=s,e.args=arguments,new R(e)},u=J;u.l=U,u.i=Z,u.w=function(s,r){return f(s,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var R=function(){function s(e){this.$L=U(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[Q]=!0}var r=s.prototype;return r.parse=function(e){this.$d=function(n){var t=n.date,a=n.utc;if(t===null)return new Date(NaN);if(u.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var i=t.match(z);if(i){var o=i[2]-1||0,c=(i[7]||"0").substring(0,3);return a?new Date(Date.UTC(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,c)):new Date(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,c)}}return new Date(t)}(e),this.init()},r.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},r.$utils=function(){return u},r.isValid=function(){return this.$d.toString()!==P},r.isSame=function(e,n){var t=f(e);return this.startOf(n)<=t&&t<=this.endOf(n)},r.isAfter=function(e,n){return f(e)<this.startOf(n)},r.isBefore=function(e,n){return this.endOf(n)<f(e)},r.$g=function(e,n,t){return u.u(e)?this[n]:this.set(t,e)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(e,n){var t=this,a=!!u.u(n)||n,i=u.p(e),o=function(T,v){var w=u.w(t.$u?Date.UTC(t.$y,v,T):new Date(t.$y,v,T),t);return a?w:w.endOf(D)},c=function(T,v){return u.w(t.toDate()[T].apply(t.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(v)),t)},d=this.$W,m=this.$M,p=this.$D,Y="set"+(this.$u?"UTC":"");switch(i){case M:return a?o(1,0):o(31,11);case $:return a?o(1,m):o(0,m+1);case j:var I=this.$locale().weekStart||0,W=(d<I?d+7:d)-I;return o(a?p-W:p+(6-W),m);case D:case b:return c(Y+"Hours",0);case l:return c(Y+"Minutes",1);case S:return c(Y+"Seconds",2);case g:return c(Y+"Milliseconds",3);default:return this.clone()}},r.endOf=function(e){return this.startOf(e,!1)},r.$set=function(e,n){var t,a=u.p(e),i="set"+(this.$u?"UTC":""),o=(t={},t[D]=i+"Date",t[b]=i+"Date",t[$]=i+"Month",t[M]=i+"FullYear",t[l]=i+"Hours",t[S]=i+"Minutes",t[g]=i+"Seconds",t[E]=i+"Milliseconds",t)[a],c=a===D?this.$D+(n-this.$W):n;if(a===$||a===M){var d=this.clone().set(b,1);d.$d[o](c),d.init(),this.$d=d.set(b,Math.min(this.$D,d.daysInMonth())).$d}else o&&this.$d[o](c);return this.init(),this},r.set=function(e,n){return this.clone().$set(e,n)},r.get=function(e){return this[u.p(e)]()},r.add=function(e,n){var t,a=this;e=Number(e);var i=u.p(n),o=function(m){var p=f(a);return u.w(p.date(p.date()+Math.round(m*e)),a)};if(i===$)return this.set($,this.$M+e);if(i===M)return this.set(M,this.$y+e);if(i===D)return o(1);if(i===j)return o(7);var c=(t={},t[S]=N,t[l]=_,t[g]=x,t)[i]||1,d=this.$d.getTime()+e*c;return u.w(d,this)},r.subtract=function(e,n){return this.add(-1*e,n)},r.format=function(e){var n=this,t=this.$locale();if(!this.isValid())return t.invalidDate||P;var a=e||"YYYY-MM-DDTHH:mm:ssZ",i=u.z(this),o=this.$H,c=this.$m,d=this.$M,m=t.weekdays,p=t.months,Y=t.meridiem,I=function(v,w,F,K){return v&&(v[w]||v(n,a))||F[w].slice(0,K)},W=function(v){return u.s(o%12||12,v,"0")},T=Y||function(v,w,F){var K=v<12?"AM":"PM";return F?K.toLowerCase():K};return a.replace(y,function(v,w){return w||function(F){switch(F){case"YY":return String(n.$y).slice(-2);case"YYYY":return u.s(n.$y,4,"0");case"M":return d+1;case"MM":return u.s(d+1,2,"0");case"MMM":return I(t.monthsShort,d,p,3);case"MMMM":return I(p,d);case"D":return n.$D;case"DD":return u.s(n.$D,2,"0");case"d":return String(n.$W);case"dd":return I(t.weekdaysMin,n.$W,m,2);case"ddd":return I(t.weekdaysShort,n.$W,m,3);case"dddd":return m[n.$W];case"H":return String(o);case"HH":return u.s(o,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return T(o,c,!0);case"A":return T(o,c,!1);case"m":return String(c);case"mm":return u.s(c,2,"0");case"s":return String(n.$s);case"ss":return u.s(n.$s,2,"0");case"SSS":return u.s(n.$ms,3,"0");case"Z":return i}return null}(v)||i.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(e,n,t){var a,i=this,o=u.p(n),c=f(e),d=(c.utcOffset()-this.utcOffset())*N,m=this-c,p=function(){return u.m(i,c)};switch(o){case M:a=p()/12;break;case $:a=p();break;case k:a=p()/3;break;case j:a=(m-d)/6048e5;break;case D:a=(m-d)/864e5;break;case l:a=m/_;break;case S:a=m/N;break;case g:a=m/x;break;default:a=m}return t?a:u.a(a)},r.daysInMonth=function(){return this.endOf($).$D},r.$locale=function(){return C[this.$L]},r.locale=function(e,n){if(!e)return this.$L;var t=this.clone(),a=U(e,n,!0);return a&&(t.$L=a),t},r.clone=function(){return u.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},s}(),G=R.prototype;return f.prototype=G,[["$ms",E],["$s",g],["$m",S],["$H",l],["$W",D],["$M",$],["$y",M],["$D",b]].forEach(function(s){G[s[1]]=function(r){return this.$g(r,s[0],s[1])}}),f.extend=function(s,r){return s.$i||(s(r,R,f),s.$i=!0),f},f.locale=U,f.isDayjs=Z,f.unix=function(s){return f(1e3*s)},f.en=C[O],f.Ls=C,f.p={},f})}(B)),B.exports}var oe=ue();const q=te(oe),ce=[{altKey:"",key:"InvoiceNumber",label:"INVOICE_NUMBER"},{altKey:"InvoiceType",key:"WholeSalerName",label:"WHOLE_SLAER_NAME"},{altKey:"",key:"TotalAmount",label:"TOTAL_BILL"},{altKey:"",key:"PaymentAmount",label:"PAID_AMOUNT"},{altKey:"",key:"ProfitMargin",label:"YOUR_PROFIT"}];function de(){const[V,ee]=H.useState({pageNumber:1,pageSize:1e4,itemId:""}),[x,N]=H.useState(""),[_,E]=H.useState(""),[g,S]=H.useState(""),{data:l,isLoading:D,refetch:j}=re(V),$=ne();let k=(l==null?void 0:l.Data)||[];const M=async y=>{$(`/invoice/details/${y.ItemId}`)},b=()=>{$("/invoice/add/new?isUpdate=false")};H.useEffect(()=>{j()},[j]);const P=y=>{console.log("page",y)},z=H.useMemo(()=>l!=null&&l.Data?l.Data.filter(L=>{const A=q(L.CreatedDate),J=(!x||A.isAfter(q(x).subtract(1,"day")))&&(!_||A.isBefore(q(_).add(1,"day"))),O=L.WholeSalerName.toLowerCase().includes(g.toLowerCase())||L.InvoiceNumber&&L.InvoiceNumber.toLowerCase().includes(g.toLowerCase());return J&&O}):[],[l,x,_,g]);return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"w-full",children:[h.jsx(se,{onClick:()=>b(),className:"fixed bottom-4 right-4 ml-4 my-3 cursor-pointer",text:"ADD_INVOICE",variant:"primary"}),l&&l&&k.length>0&&h.jsxs("div",{className:"p-10 w-full",children:[h.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[h.jsxs("div",{className:"flex flex-col cursor-pointer",children:[h.jsx("label",{className:"text-sm mb-1",children:"From Date"}),h.jsx("input",{type:"date",value:x,onChange:y=>N(y.target.value),className:"border p-2 rounded"})]}),h.jsxs("div",{className:"flex flex-col cursor-pointer",children:[h.jsx("label",{className:"text-sm mb-1",children:"To Date"}),h.jsx("input",{type:"date",value:_,onChange:y=>E(y.target.value),className:"border p-2 rounded"})]}),h.jsxs("div",{className:"flex flex-col flex-1",children:[h.jsx("label",{className:"text-sm mb-1",children:"Search"}),h.jsx("input",{type:"text",value:g,onChange:y=>S(y.target.value),placeholder:"Search by wholesaler or invoice no.",className:"border p-2 rounded w-full"})]})]}),h.jsx(ae,{isRowClickable:!0,handleRowClick:M,columns:ce,data:z,totalCount:l==null?void 0:l.TotalCount,handlePageSelection:P,rowsPerPage:10})]}),!D&&k&&k.length==0&&h.jsx("div",{className:"p-10 w-full",children:"No data found"}),D&&h.jsx("div",{className:"p-10 w-full",children:"Loading..."})]})})}export{ce as InvoiceColumns,de as default};
