import{j as e,M as w,B as m,T as U,a as o,u as L,b as A,c as R,d as _,e as D,r as p,C as E}from"./index-CAbPuwH0.js";import{C as B}from"./CustomTable-Bkpg96V7.js";import{B as j,D as W}from"./delete-confirmation.modal-BFdD7jZO.js";function G({isOpen:n,handleCancel:c,formData:t,handleFormData:l,handleSubmit:N,isUpdate:u}){const a=L;return e.jsx(w,{open:n,onClose:()=>c(),children:e.jsxs(m,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:5,borderRadius:2},children:[e.jsx(U,{variant:"H5",content:u?"UPDATE_PRODUCT":"ADD_PRODUCT"}),e.jsxs(m,{display:"flex",flexDirection:"column",className:"gap-5 mt-4",children:[e.jsx(o,{className:"w-full",label:a({content:"PRODUCT_NAME"}),name:"ProductName",value:t==null?void 0:t.ProductName,onChange:l,fullWidth:!0}),e.jsx(o,{label:a({content:"PRODUCT_DESCRIPTION"}),name:"Description",value:t==null?void 0:t.Description,onChange:l,fullWidth:!0,rows:2}),e.jsx(o,{label:a({content:"MAKING_COST"}),name:"MakingPrice",type:"number",value:t==null?void 0:t.MakingPrice,onChange:l,fullWidth:!0}),e.jsx(o,{label:a({content:"SELLING_COST"}),name:"SellingPrice",type:"number",value:t==null?void 0:t.SellingPrice,onChange:l,fullWidth:!0}),e.jsx(o,{label:a({content:"QUANTITY"}),name:"Quantity",type:"number",value:t==null?void 0:t.Quantity,onChange:l,fullWidth:!0})]}),e.jsxs(m,{display:"flex",justifyContent:"flex-end",className:"gap-4 mt-4",children:[e.jsx(j,{variant:"outlined",color:"secondary",onClick:()=>c(),children:"Cancel"}),e.jsx(j,{variant:"contained",color:"primary",onClick:()=>N(),children:u?"Update":"Save"})]})]})})}const z=[{key:"ProductName",label:"Name"},{key:"MakingPrice",label:"MAKING_COST"},{key:"SellingPrice",label:"SELLING_COST"},{key:"Quantity",label:"QUANTITY"}],x={ItemId:"",ProductName:"",Description:"",MakingPrice:"",SellingPrice:"",Quantity:""};function q(){var S,b;const{data:n,isLoading:c,refetch:t}=A({pageNumber:1,pageSize:10,itemId:""}),[l,{isLoading:N}]=R(),[u,{isLoading:a}]=_(),[I,{isLoading:F}]=D(),[h,r]=p.useState(!1),[M,y]=p.useState(!1),[C,g]=p.useState(!1),[i,d]=p.useState(x),T=s=>{d(P=>({...P,[s.target.name]:s.target.value}))},k=async()=>{C?(await u({payload:{ItemId:i.ItemId,ProductName:i.ProductName,Description:i.Description,MakingPrice:Number(i.MakingPrice),SellingPrice:Number(i.SellingPrice),Quantity:Number(i.Quantity)}}).unwrap(),r(!1),g(!1),t()):(await l({payload:{ProductName:i.ProductName,Description:i.Description,MakingPrice:Number(i.MakingPrice),SellingPrice:Number(i.SellingPrice),Quantity:Number(i.Quantity)}}).unwrap(),r(!1),t())},f=()=>{r(!1),g(!1),d(x)},v=async(s,P)=>{d({ItemId:s.ItemId,ProductName:s.ProductName,Description:s.Description,MakingPrice:s.MakingPrice.toString(),SellingPrice:s.SellingPrice.toString(),Quantity:s.Quantity.toString()}),P?y(!0):(g(!0),r(!0))},O=async s=>{y(!1),s&&(await I({id:i.ItemId}).unwrap(),t())},Q=()=>{d(x),r(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full",children:[e.jsx(E,{onClick:()=>Q(),className:"fixed bottom-4 right-4 ml-4 my-3 cursor-pointer",text:"ADD_PRODUCT",variant:"primary"}),n&&n&&((S=n==null?void 0:n.Data)==null?void 0:S.length)>0&&e.jsx("div",{className:"p-10 w-full",children:e.jsx(B,{showActionButtons:!0,handleRowClick:v,columns:z,data:(n==null?void 0:n.Data)||[],rowsPerPage:10})}),!c&&n&&n&&((b=n==null?void 0:n.Data)==null?void 0:b.length)==0&&e.jsx("div",{className:"p-10 w-full",children:"No data found"}),c&&e.jsx("div",{className:"p-10 w-full",children:"Loading..."})]}),h&&e.jsx(G,{isUpdate:C,handleSubmit:k,formData:i,isOpen:h,handleFormData:T,handleCancel:f}),M&&e.jsx(W,{handleConfirm:O,isOpen:!0})]})}export{q as default};
